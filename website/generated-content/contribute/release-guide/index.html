<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Beam Release Guide</title><meta name=description content="Apache Beam is an open source, unified model and set of language-specific SDKs for defining and executing data processing workflows, and also data ingestion and integration flows, supporting Enterprise Integration Patterns (EIPs) and Domain Specific Languages (DSLs). Dataflow pipelines simplify the mechanics of large-scale batch and streaming data processing and can run on a number of runtimes like Apache Flink, Apache Spark, and Google Cloud Dataflow (a cloud service). Beam also brings DSL in different languages, allowing users to easily implement their data integration processes."><link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700" rel=stylesheet><link rel=preload href=/scss/main.min.408fddfe3e8a45f87a5a8c9a839d77db667c1c534e5e5cd0d957ffc3dd6c14cf.css as=style><link href=/scss/main.min.408fddfe3e8a45f87a5a8c9a839d77db667c1c534e5e5cd0d957ffc3dd6c14cf.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-2.2.4.min.js></script><style>.body__contained img{max-width:100%}</style><script type=text/javascript src=/js/bootstrap.min.2979f9a6e32fc42c3e7406339ee9fe76b31d1b52059776a02b4a7fa6a4fd280a.js defer></script>
<script type=text/javascript src=/js/language-switch-v2.min.121952b7980b920320ab229551857669209945e39b05ba2b433a565385ca44c6.js defer></script>
<script type=text/javascript src=/js/fix-menu.min.039174b67107465f2090a493f91e126f7aa797f29420f9edab8a54d9dd4b3d2d.js defer></script>
<script type=text/javascript src=/js/section-nav.min.1405fd5e70fab5f6c54037c269b1d137487d8f3d1b3009032525f6db3fbce991.js defer></script>
<script type=text/javascript src=/js/page-nav.min.af231204c9c52c5089d53a4c02739eacbb7f939e3be1c6ffcc212e0ac4dbf879.js defer></script>
<script type=text/javascript src=/js/expandable-list.min.75a4526624a3b8898fe7fb9e3428c205b581f8b38c7926922467aef17eac69f2.js defer></script>
<script type=text/javascript src=/js/copy-to-clipboard.min.364c06423d7e8993fc42bb4abc38c03195bc8386db26d18774ce775d08d5b18d.js defer></script>
<script type=text/javascript src=/js/calendar.min.336664054fa0f52b08bbd4e3c59b5cb6d63dcfb2b4d602839746516b0817446b.js defer></script>
<script type=text/javascript src=/js/fix-playground-nested-scroll.min.0283f1037cb1b9d5074c6eaf041292b524a8148a7cdb803d5ccd6d1fc4eb3253.js defer></script>
<script type=text/javascript src=/js/anchor-content-jump-fix.min.22d3240f81632e4c11179b9d2aaf37a40da9414333c43aa97344e8b21a7df0e4.js defer></script>
<link rel=alternate type=application/rss+xml title="Apache Beam" href=/feed.xml><link rel=canonical href=/contribute/release-guide/ data-proofer-ignore><link rel="shortcut icon" type=image/x-icon href=/images/favicon.ico><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.4.1/css/all.css integrity=sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz crossorigin=anonymous><link rel=stylesheet href=https://unpkg.com/swiper@8/swiper-bundle.min.css><script async src=https://platform.twitter.com/widgets.js></script>
<script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-73650088-1","auto"),ga("send","pageview")</script><script>(function(e,t,n,s,o,i){e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:2182187,hjsv:6},o=t.getElementsByTagName("head")[0],i=t.createElement("script"),i.async=1,i.src=n+e._hjSettings.hjid+s+e._hjSettings.hjsv,o.appendChild(i)})(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv=")</script></head><body class=body data-spy=scroll data-target=.page-nav data-offset=0><nav class="navigation-bar-mobile header navbar navbar-fixed-top"><div class=navbar-header><a href=/ class=navbar-brand><img alt=Brand style=height:46px;width:43px src=/images/beam_logo_navbar_mobile.png></a>
<a class=navbar-link href=/get-started/>Get Started</a>
<a class=navbar-link href=/documentation/>Documentation</a>
<button type=button class="navbar-toggle menu-open" aria-expanded=false aria-controls=navbar onclick=openMenu()>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button></div><div class="navbar-mask closed"></div><div id=navbar class="navbar-container closed"><button type=button class=navbar-toggle aria-expanded=false aria-controls=navbar id=closeMenu>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button><ul class="nav navbar-nav"><li><div class=searchBar-mobile><script>(function(){var t,n="012923275103528129024:4emlchv9wzi",e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cse.google.com/cse.js?cx="+n,t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script><gcse:search></gcse:search></div></li><li><a class=navbar-link href=/about>About</a></li><li><a class=navbar-link href=/get-started/>Get Started</a></li><li><span class=navbar-link>Documentation</span><ul><li><a href=/documentation/>General</a></li><li><a href=/documentation/sdks/java/>Languages</a></li><li><a href=/documentation/runners/capability-matrix/>Runners</a></li><li><a href=/documentation/io/connectors/>I/O Connectors</a></li></ul></li><li><a class=navbar-link href=/roadmap/>Roadmap</a></li><li><a class=navbar-link href=/community/>Community</a></li><li><a class=navbar-link href=/contribute/>Contribute</a></li><li><a class=navbar-link href=/blog/>Blog</a></li><li><a class=navbar-link href=/case-studies/>Case Studies</a></li></ul><ul class="nav navbar-nav navbar-right"><li><a href=https://github.com/apache/beam/edit/master/website/www/site/content/en/contribute/release-guide.md data-proofer-ignore><svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" fill="none" viewBox="0 0 25 24"><path stroke="#ff6d00" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.75" d="M4.543 20h4l10.5-10.5c.53-.53.828-1.25.828-2s-.298-1.47-.828-2-1.25-.828-2-.828-1.47.298-2 .828L4.543 16v4zm9.5-13.5 4 4"/></svg></a></li><li class=dropdown><a href=# class=dropdown-toggle id=apache-dropdown data-toggle=dropdown role=button aria-haspopup=true aria-expanded=false><img src=https://www.apache.org/foundation/press/kit/feather_small.png alt="Apache Logo" style=height:20px>
&nbsp;Apache
<span class=arrow-icon><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><circle cx="10" cy="10" r="10" fill="#ff6d00"/><path stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.535 5.28l4.573 4.818-4.573 4.403"/></svg></span></a><ul class="dropdown-menu dropdown-menu-right"><li><a target=_blank href=https://www.apache.org/>ASF Homepage</a></li><li><a target=_blank href=https://www.apache.org/licenses/>License</a></li><li><a target=_blank href=https://www.apache.org/security/>Security</a></li><li><a target=_blank href=https://www.apache.org/foundation/thanks.html>Thanks</a></li><li><a target=_blank href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li><li><a target=_blank href=https://www.apache.org/foundation/policies/conduct>Code of Conduct</a></li></ul></li></ul></div></nav><nav class=navigation-bar-desktop><a href=/ class=navbar-logo><img src=/images/beam_logo_navbar.png alt="Beam Logo"></a><div class=navbar-bar-left><div class=navbar-links><a class=navbar-link href=/about>About</a>
<a class=navbar-link href=/get-started/>Get Started</a><li class="dropdown navbar-dropdown navbar-dropdown-documentation"><a href=# class="dropdown-toggle navbar-link" role=button aria-haspopup=true aria-expanded=false>Documentation
<span><svg xmlns="http://www.w3.org/2000/svg" width="12" height="11" fill="none" viewBox="0 0 12 11"><path stroke="#ff6d00" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.666 4.535 5.847 9.108 1.444 4.535"/></svg></span></a><ul class=dropdown-menu><li><a class=navbar-dropdown-menu-link href=/documentation/>General</a></li><li><a class=navbar-dropdown-menu-link href=/documentation/sdks/java/>Languages</a></li><li><a class=navbar-dropdown-menu-link href=/documentation/runners/capability-matrix/>Runners</a></li><li><a class=navbar-dropdown-menu-link href=/documentation/io/connectors/>I/O Connectors</a></li></ul></li><a class=navbar-link href=/roadmap/>Roadmap</a>
<a class=navbar-link href=/community/>Community</a>
<a class=navbar-link href=/contribute/>Contribute</a>
<a class=navbar-link href=/blog/>Blog</a>
<a class=navbar-link href=/case-studies/>Case Studies</a></div><div id=iconsBar><a type=button onclick=showSearch()><svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" fill="none" viewBox="0 0 25 24"><path stroke="#ff6d00" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.75" d="M10.191 17c3.866.0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm11 4-6-6"/></svg></a><a target=_blank href=https://github.com/apache/beam/edit/master/website/www/site/content/en/contribute/release-guide.md data-proofer-ignore><svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" fill="none" viewBox="0 0 25 24"><path stroke="#ff6d00" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.75" d="M4.543 20h4l10.5-10.5c.53-.53.828-1.25.828-2s-.298-1.47-.828-2-1.25-.828-2-.828-1.47.298-2 .828L4.543 16v4zm9.5-13.5 4 4"/></svg></a><li class="dropdown navbar-dropdown navbar-dropdown-apache"><a href=# class=dropdown-toggle role=button aria-haspopup=true aria-expanded=false><img src=https://www.apache.org/foundation/press/kit/feather_small.png alt="Apache Logo" style=height:20px>
&nbsp;Apache
<span class=arrow-icon><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><circle cx="10" cy="10" r="10" fill="#ff6d00"/><path stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.535 5.28l4.573 4.818-4.573 4.403"/></svg></span></a><ul class=dropdown-menu><li><a class=navbar-dropdown-menu-link target=_blank href=https://www.apache.org/>ASF Homepage</a></li><li><a class=navbar-dropdown-menu-link target=_blank href=https://www.apache.org/licenses/>License</a></li><li><a class=navbar-dropdown-menu-link target=_blank href=https://www.apache.org/security/>Security</a></li><li><a class=navbar-dropdown-menu-link target=_blank href=https://www.apache.org/foundation/thanks.html>Thanks</a></li><li><a class=navbar-dropdown-menu-link target=_blank href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li><li><a class=navbar-dropdown-menu-link target=_blank href=https://www.apache.org/foundation/policies/conduct>Code of Conduct</a></li></ul></li></div><div class="searchBar disappear"><script>(function(){var t,n="012923275103528129024:4emlchv9wzi",e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cse.google.com/cse.js?cx="+n,t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script><gcse:search></gcse:search>
<a type=button onclick=endSearch()><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25"><path stroke="#ff6d00" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.75" d="M21.122 20.827 4.727 4.432M21.122 4.43 4.727 20.827"/></svg></a></div></div></nav><div class=header-push></div><div class="top-banners swiper"><div class=swiper-wrapper><div class=swiper-slide><a href=https://beamsummit.org/tickets/social/><img class=banner-img-desktop src=/images/banner_desktop.png alt=banner-desktop>
<img class=banner-img-mobile src=/images/banner_mobile.png alt=banner-mobile></a></div><div class=swiper-slide><a href=https://tour.beam.apache.org><img class=banner-img-desktop src=/images/banners/tour-of-beam/tour-of-beam-desktop.png alt="Start Tour of Beam">
<img class=banner-img-mobile src=/images/banners/tour-of-beam/tour-of-beam-mobile.png alt="Start Tour of Beam"></a></div><div class=swiper-slide><a href=https://beam.apache.org/documentation/ml/overview/><img class=banner-img-desktop src=/images/banners/machine-learning/machine-learning-desktop.jpg alt="Machine Learning">
<img class=banner-img-mobile src=/images/banners/machine-learning/machine-learning-mobile.jpg alt="Machine Learning"></a></div></div><div class=swiper-pagination></div></div><script src=/js/swiper-bundle.min.min.e0e8f81b0b15728d35ff73c07f42ddbb17a108d6f23df4953cb3e60df7ade675.js></script>
<script src=/js/sliders/top-banners.min.91104c476b3d8123ebee5ed9a8168556ec546abb698549551b38a0cee187ee1c.js></script>
<script>function showSearch(){addPlaceholder();var e,t=document.querySelector(".searchBar");t.classList.remove("disappear"),e=document.querySelector("#iconsBar"),e.classList.add("disappear")}function addPlaceholder(){$("input:text").attr("placeholder","What are you looking for?")}function endSearch(){var e,t=document.querySelector(".searchBar");t.classList.add("disappear"),e=document.querySelector("#iconsBar"),e.classList.remove("disappear")}function blockScroll(){$("body").toggleClass("fixedPosition")}function openMenu(){addPlaceholder(),blockScroll()}</script><div class="clearfix container-main-content"><div class="section-nav closed" data-offset-top=90 data-offset-bottom=500><span class="section-nav-back glyphicon glyphicon-menu-left"></span><nav><ul class=section-nav-list data-section-nav><li><span class=section-nav-list-main-title>Contribute</span></li><li><a href=https://github.com/apache/beam/blob/master/CONTRIBUTING.md>Code contribution guide</a></li><li><a href=/contribute/get-help/>Get help</a></li><li><a href=/contribute/attributes/>Attributes of a Beam community member</a></li><li><span class=section-nav-list-title>Technical Docs</span><ul class=section-nav-list><li><a href=https://cwiki.apache.org/confluence/display/BEAM/Contribution+Testing+Guide>Testing guide</a></li><li><a href=/contribute/precommit-triage-guide/>Pre-commit slowness triage</a></li><li><a href=/contribute/ptransform-style-guide/>PTransform style guide</a></li><li><a href=/contribute/runner-guide/>Runner authoring guide</a></li><li><a href=https://cwiki.apache.org/confluence/display/BEAM/Design+Documents>Design documents</a></li><li><a href=/contribute/dependencies/>Dependencies guide</a></li><li><a href=/contribute/feature-branches/>Feature branches</a></li></ul></li><li><span class=section-nav-list-title>Policies</span><ul class=section-nav-list><li><a href=/contribute/issue-priorities/>Issue priorities</a></li><li><a href=/contribute/precommit-policies/>Pre-commit test policies</a></li><li><a href=/contribute/postcommits-policies/>Post-commit test policies</a></li><li><a href=/contribute/release-blockers/>Release blockers</a></li></ul></li><li><span class=section-nav-list-title>Committers</span><ul class=section-nav-list><li><a href=/contribute/become-a-committer/>Become a committer</a></li><li><a href=/contribute/committer-guide/>Committer guide</a></li><li><a href=/contribute/release-guide/>Release guide</a></li></ul></li></ul></nav></div><nav class="page-nav clearfix" data-offset-top=90 data-offset-bottom=500><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a><ul><li><a href=#overview>Overview</a></li></ul></li><li><a href=#1-decide-to-release>1. Decide to release</a><ul><li><a href=#checklist-to-proceed-to-the-next-step>Checklist to proceed to the next step</a></li></ul></li><li><a href=#2-prepare-for-the-release>2. Prepare for the release</a><ul><li><a href=#accounts>Accounts</a></li><li><a href=#one-time-setup-instructions>One-time setup instructions</a><ul><li><a href=#gpg-key>GPG Key</a></li><li><a href=#access-to-apache-nexus-repository>Access to Apache Nexus repository</a></li><li><a href=#submit-your-gpg-public-key-into-ubuntu-openpgp-key-server>Submit your GPG public key into Ubuntu OpenPGP Key Server</a></li><li><a href=#website-development-setup>Website development setup</a></li><li><a href=#register-to-pypi>Register to PyPI</a></li><li><a href=#login-to-dockerhub>Login to DockerHub</a></li></ul></li><li><a href=#create-a-new-milestone-in-github>Create a new milestone in GitHub</a></li></ul></li><li><a href=#3-update-base-image-dependencies-for-python-container-images>3. Update base image dependencies for Python container images</a></li><li><a href=#4-investigate-performance-regressions>4. Investigate performance regressions</a></li><li><a href=#5-create-a-release-branch-in-apachebeam-repository>5. Create a release branch in apache/beam repository</a><ul><li><ul><li><a href=#use-cut_release_branchsh-to-cut-a-release-branch>Use cut_release_branch.sh to cut a release branch</a></li></ul></li></ul></li><li><a href=#6-verify-release-branch>6. Verify release branch</a><ul><li><ul><li><a href=#run-automation-script-verify_release_buildsh>Run automation script (verify_release_build.sh)</a></li><li><a href=#verify-the-build-succeeds>Verify the build succeeds</a></li><li><a href=#alternative-run-release-build-manually-locally>(Alternative) Run release build manually (locally)</a></li><li><a href=#create-release-blocking-issues-in-github>Create release-blocking issues in GitHub</a></li><li><a href=#inform-the-mailing-list>Inform the mailing list</a></li></ul></li></ul></li><li><a href=#7-triage-release-blocking-issues-in-github>7. Triage release-blocking issues in GitHub</a><ul><li><a href=#review-cherry-picks>Review cherry-picks</a></li></ul></li><li><a href=#8-build-a-release-candidate>8. Build a release candidate</a><ul><li><ul><li><a href=#checklist-before-proceeding>Checklist before proceeding</a></li></ul></li><li><a href=#tag-a-chosen-commit-for-the-rc>Tag a chosen commit for the RC</a></li><li><a href=#run-build_release_candidate-github-action-to-create-a-release-candidate>Run build_release_candidate GitHub Action to create a release candidate</a><ul><li><a href=#tasks-you-need-to-do-manually>Tasks you need to do manually</a></li></ul></li><li><a href=#run-build_release_candidatesh-to-create-a-release-candidate>Run build_release_candidate.sh to create a release candidate</a><ul><li><a href=#tasks-you-need-to-do-manually-1>Tasks you need to do manually</a></li></ul></li><li><a href=#upload-release-candidate-to-pypi>Upload release candidate to PyPi</a></li></ul></li><li><a href=#9-prepare-documents>9. Prepare documents</a><ul><li><a href=#propose-pull-requests-for-website-updates>Propose pull requests for website updates</a><ul><li><a href=#blog-post>Blog post</a></li><li><a href=#checklist-to-proceed-to-the-next-step-1>Checklist to proceed to the next step</a></li></ul></li></ul></li><li><a href=#10-vote-and-validate-release-candidate>10. Vote and validate release candidate</a><ul><li><a href=#run-validation-tests>Run validation tests</a><ul><li><a href=#run-validations-using-run_rc_validationsh>Run validations using run_rc_validation.sh</a></li><li><a href=#run-validations-manually>Run validations manually</a></li></ul></li><li><a href=#fix-any-issues>Fix any issues</a></li><li><a href=#finalize-the-vote>Finalize the vote</a></li><li><a href=#checklist-to-proceed-to-the-next-step-2>Checklist to proceed to the next step</a></li></ul></li><li><a href=#11-finalize-the-release>11. Finalize the release</a><ul><li><a href=#deploy-artifacts-to-maven-central-repository>Deploy artifacts to Maven Central Repository</a></li><li><a href=#deploy-python-artifacts-to-pypi>Deploy Python artifacts to PyPI</a></li><li><a href=#deploy-docker-images-to-dockerhub>Deploy docker images to DockerHub</a></li><li><a href=#merge-website-pull-requests>Merge Website pull requests</a></li><li><a href=#git-tag>Git tag</a></li><li><a href=#publish-release-to-github>Publish release to Github</a></li><li><a href=#mark-the-version-as-released-in-github>Mark the version as released in GitHub</a></li><li><a href=#pmc-only-finalization>PMC-Only Finalization</a><ul><li><a href=#deploy-source-release-to-distapacheorg>Deploy source release to dist.apache.org</a></li><li><a href=#recordkeeping-with-asf>Recordkeeping with ASF</a></li></ul></li><li><a href=#checklist-to-proceed-to-the-next-step-3>Checklist to proceed to the next step</a></li></ul></li><li><a href=#12-promote-the-release>12. Promote the release</a><ul><li><a href=#apache-mailing-lists>Apache mailing lists</a></li><li><a href=#social-media>Social media</a></li><li><a href=#checklist-to-declare-the-process-completed>Checklist to declare the process completed</a></li></ul></li><li><a href=#13-update-beam-playground>13. Update Beam Playground</a></li><li><a href=#improve-the-process>Improve the process</a></li></ul></nav></nav><div class="body__contained body__section-nav"><h1 id=apache-beam-release-guide>Apache Beam Release Guide</h1><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a><ul><li><a href=#overview>Overview</a></li></ul></li><li><a href=#1-decide-to-release>1. Decide to release</a><ul><li><a href=#checklist-to-proceed-to-the-next-step>Checklist to proceed to the next step</a></li></ul></li><li><a href=#2-prepare-for-the-release>2. Prepare for the release</a><ul><li><a href=#accounts>Accounts</a></li><li><a href=#one-time-setup-instructions>One-time setup instructions</a><ul><li><a href=#gpg-key>GPG Key</a></li><li><a href=#access-to-apache-nexus-repository>Access to Apache Nexus repository</a></li><li><a href=#submit-your-gpg-public-key-into-ubuntu-openpgp-key-server>Submit your GPG public key into Ubuntu OpenPGP Key Server</a></li><li><a href=#website-development-setup>Website development setup</a></li><li><a href=#register-to-pypi>Register to PyPI</a></li><li><a href=#login-to-dockerhub>Login to DockerHub</a></li></ul></li><li><a href=#create-a-new-milestone-in-github>Create a new milestone in GitHub</a></li></ul></li><li><a href=#3-update-base-image-dependencies-for-python-container-images>3. Update base image dependencies for Python container images</a></li><li><a href=#4-investigate-performance-regressions>4. Investigate performance regressions</a></li><li><a href=#5-create-a-release-branch-in-apachebeam-repository>5. Create a release branch in apache/beam repository</a><ul><li><ul><li><a href=#use-cut_release_branchsh-to-cut-a-release-branch>Use cut_release_branch.sh to cut a release branch</a></li></ul></li></ul></li><li><a href=#6-verify-release-branch>6. Verify release branch</a><ul><li><ul><li><a href=#run-automation-script-verify_release_buildsh>Run automation script (verify_release_build.sh)</a></li><li><a href=#verify-the-build-succeeds>Verify the build succeeds</a></li><li><a href=#alternative-run-release-build-manually-locally>(Alternative) Run release build manually (locally)</a></li><li><a href=#create-release-blocking-issues-in-github>Create release-blocking issues in GitHub</a></li><li><a href=#inform-the-mailing-list>Inform the mailing list</a></li></ul></li></ul></li><li><a href=#7-triage-release-blocking-issues-in-github>7. Triage release-blocking issues in GitHub</a><ul><li><a href=#review-cherry-picks>Review cherry-picks</a></li></ul></li><li><a href=#8-build-a-release-candidate>8. Build a release candidate</a><ul><li><ul><li><a href=#checklist-before-proceeding>Checklist before proceeding</a></li></ul></li><li><a href=#tag-a-chosen-commit-for-the-rc>Tag a chosen commit for the RC</a></li><li><a href=#run-build_release_candidate-github-action-to-create-a-release-candidate>Run build_release_candidate GitHub Action to create a release candidate</a><ul><li><a href=#tasks-you-need-to-do-manually>Tasks you need to do manually</a></li></ul></li><li><a href=#run-build_release_candidatesh-to-create-a-release-candidate>Run build_release_candidate.sh to create a release candidate</a><ul><li><a href=#tasks-you-need-to-do-manually-1>Tasks you need to do manually</a></li></ul></li><li><a href=#upload-release-candidate-to-pypi>Upload release candidate to PyPi</a></li></ul></li><li><a href=#9-prepare-documents>9. Prepare documents</a><ul><li><a href=#propose-pull-requests-for-website-updates>Propose pull requests for website updates</a><ul><li><a href=#blog-post>Blog post</a></li><li><a href=#checklist-to-proceed-to-the-next-step-1>Checklist to proceed to the next step</a></li></ul></li></ul></li><li><a href=#10-vote-and-validate-release-candidate>10. Vote and validate release candidate</a><ul><li><a href=#run-validation-tests>Run validation tests</a><ul><li><a href=#run-validations-using-run_rc_validationsh>Run validations using run_rc_validation.sh</a></li><li><a href=#run-validations-manually>Run validations manually</a></li></ul></li><li><a href=#fix-any-issues>Fix any issues</a></li><li><a href=#finalize-the-vote>Finalize the vote</a></li><li><a href=#checklist-to-proceed-to-the-next-step-2>Checklist to proceed to the next step</a></li></ul></li><li><a href=#11-finalize-the-release>11. Finalize the release</a><ul><li><a href=#deploy-artifacts-to-maven-central-repository>Deploy artifacts to Maven Central Repository</a></li><li><a href=#deploy-python-artifacts-to-pypi>Deploy Python artifacts to PyPI</a></li><li><a href=#deploy-docker-images-to-dockerhub>Deploy docker images to DockerHub</a></li><li><a href=#merge-website-pull-requests>Merge Website pull requests</a></li><li><a href=#git-tag>Git tag</a></li><li><a href=#publish-release-to-github>Publish release to Github</a></li><li><a href=#mark-the-version-as-released-in-github>Mark the version as released in GitHub</a></li><li><a href=#pmc-only-finalization>PMC-Only Finalization</a><ul><li><a href=#deploy-source-release-to-distapacheorg>Deploy source release to dist.apache.org</a></li><li><a href=#recordkeeping-with-asf>Recordkeeping with ASF</a></li></ul></li><li><a href=#checklist-to-proceed-to-the-next-step-3>Checklist to proceed to the next step</a></li></ul></li><li><a href=#12-promote-the-release>12. Promote the release</a><ul><li><a href=#apache-mailing-lists>Apache mailing lists</a></li><li><a href=#social-media>Social media</a></li><li><a href=#checklist-to-declare-the-process-completed>Checklist to declare the process completed</a></li></ul></li><li><a href=#13-update-beam-playground>13. Update Beam Playground</a></li><li><a href=#improve-the-process>Improve the process</a></li></ul></nav><h2 id=introduction>Introduction</h2><p>The Apache Beam project periodically declares and publishes releases.
A release is one or more packages of the project artifact(s) that are approved for general public distribution and use.
They may come with various degrees of caveat regarding their perceived quality and potential for change, such as “alpha”, “beta”, “incubating”, “stable”, etc.</p><p>The Beam community treats releases with great importance.
They are a public face of the project and most users interact with the project only through the releases. Releases are signed off by the entire Beam community in a public vote.</p><p>Each release is executed by a <em>Release Manager</em>, who is selected among the Beam committers.
This document describes the process that the Release Manager follows to perform a release.
Any changes to this process should be discussed and adopted on the <a href=/get-started/support/>dev@ mailing list</a>.</p><p>Please remember that publishing software has legal consequences.
This guide complements the foundation-wide <a href=https://www.apache.org/dev/release.html>Product Release Policy</a> and <a href=https://www.apache.org/dev/release-distribution>Release Distribution Policy</a>.</p><h3 id=overview>Overview</h3><img src=/images/release-guide-1.png alt="Alt text" width=100%><p>The release process consists of several steps:</p><ol><li>Decide to release</li><li>Prepare for the release</li><li>Update base image dependencies for Python container images</li><li>Investigate performance regressions</li><li>Create a release branch</li><li>Verify release branch</li><li>Build a release candidate</li><li>Vote on the release candidate</li><li>During vote process, run validation tests</li><li>If necessary, fix any issues and go back to step 3.</li><li>Finalize the release</li><li>Promote the release</li></ol><h2 id=1-decide-to-release>1. Decide to release</h2><p>Deciding to release and selecting a Release Manager is the first step of the release process.
This is a consensus-based decision of the entire community.</p><p>Anybody can propose a release on the dev@ mailing list, giving a solid argument and nominating a committer as the Release Manager (including themselves).
There’s no formal process, no vote requirements, and no timing requirements. Any objections should be resolved by consensus before starting the release.</p><p>In general, the community prefers to have a rotating set of 3-5 Release Managers.
Keeping a small core set of managers allows enough people to build expertise in this area and improve processes over time, without Release Managers needing to re-learn the processes for each release.
That said, if you are a committer interested in serving the community in this way, please reach out to the community on the dev@ mailing list.</p><h3 id=checklist-to-proceed-to-the-next-step>Checklist to proceed to the next step</h3><ol><li>Community agrees to release</li><li>Community selects a Release Manager</li></ol><hr><h2 id=2-prepare-for-the-release>2. Prepare for the release</h2><p>Before your first release, you should perform one-time configuration steps.
This will set up your security keys for signing the release and access to various release repositories.</p><p>To prepare for each release, you should audit the project status in the GitHub issue tracker, and do necessary bookkeeping.
Finally, you should create a release branch from which individual release candidates will be built.</p><p><strong>NOTE</strong>: If you are using <a href=https://help.github.com/articles/securing-your-account-with-two-factor-authentication-2fa/>GitHub two-factor authentication</a> and haven&rsquo;t configure HTTPS access,
please follow <a href=https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/>the guide</a> to configure command line access.</p><h3 id=accounts>Accounts</h3><p>Please have these credentials ready at hand, you will likely need to enter them multiple times:</p><ul><li>GPG pass phrase (see the next section);</li><li>Apache ID and Password;</li><li>GitHub ID and Password.</li><li>DockerHub ID and Password. (You should be a member of maintainer team; email at dev@ if you are not.)</li><li>Account to access to apache-beam-testing Google Cloud Platform project. The account must have permissions to start Cloud Build triggers. Required for Playground environment update. (E-mail to <a href=mailto:pabloem@google.com>pabloem@google.com</a> to request access)</li></ul><h3 id=one-time-setup-instructions>One-time setup instructions</h3><h4 id=gpg-key>GPG Key</h4><p>You need to have a GPG key to sign the release artifacts.
Please be aware of the ASF-wide <a href=https://www.apache.org/dev/release-signing.html>release signing guidelines</a>.
If you don’t have a GPG key associated with your Apache account, please create one according to the guidelines.</p><p>There are 2 ways to configure your GPG key for release, either using release automation script(which is recommended), or running all commands manually.</p><h5 id=use-preparation_before_releasesh-to-setup-gpg>Use preparation_before_release.sh to setup GPG</h5><ul><li><p><strong>Script:</strong> <a href=https://github.com/apache/beam/blob/master/release/src/main/scripts/preparation_before_release.sh>preparation_before_release.sh</a></p></li><li><p><strong>Usage</strong></p><pre tabindex=0><code>./beam/release/src/main/scripts/preparation_before_release.sh
</code></pre></li><li><p><strong>Tasks included</strong></p><ol><li><p>Help you create a new GPG key if you want.</p></li><li><p>Configure <code>git user.signingkey</code> with chosen pubkey.</p></li><li><p>Add chosen pubkey into <a href=https://dist.apache.org/repos/dist/dev/beam/KEYS>dev KEYS</a> and <a href=https://dist.apache.org/repos/dist/release/beam/KEYS>release KEYS</a></p><p><strong>NOTES</strong>: Only PMC can write into <a href=https://dist.apache.org/repos/dist/release/beam/>release repo</a>.</p></li><li><p>Start GPG agents.</p></li></ol></li></ul><p><strong>NOTE</strong>: When generating the key, please make sure you choose the key type as <strong>RSA and RSA (default)</strong> and key size as <strong>4096 bit</strong>.</p><ul><li>To run the commands manually, refer to the contents of <code>preparation_before_release.sh</code>.</li></ul><h5 id=key-id>Key ID</h5><ul><li><p>You may need your Key ID for future steps. Determine your Apache GPG Key and Key ID as follows:</p><pre><code>gpg --list-sigs --keyid-format LONG
</code></pre><p>This will list your GPG keys. One of these should reflect your Apache account, for example:</p><pre><code>--------------------------------------------------
pub   rsa4096/845E6689845E6689 2016-02-23
uid                  Nomen Nescio &lt;anonymous@apache.org&gt;
sub   rsa4096/BA4D50BEBA4D50BE 2016-02-23
</code></pre><p>Here, the key ID is the 16-digit hex string in the <code>pub</code> line: <code>845E6689845E6689</code>.</p></li></ul><h4 id=access-to-apache-nexus-repository>Access to Apache Nexus repository</h4><p>Configure access to the <a href=https://repository.apache.org/>Apache Nexus repository</a>, which enables final deployment of releases to the Maven Central Repository.</p><ol><li><p>You log in with your Apache account.</p></li><li><p>Confirm you have appropriate access by finding <code>org.apache.beam</code> under <code>Staging Profiles</code>.</p></li><li><p>Navigate to your <code>Profile</code> (top right dropdown menu of the page).</p></li><li><p>Choose <code>User Token</code> from the dropdown, then click <code>Access User Token</code>. Copy a snippet of the Maven XML configuration block.</p></li><li><p>Insert this snippet twice into your global Maven <code>settings.xml</code> file, typically <code>${HOME}/.m2/settings.xml</code>. The end result should look like this, where <code>TOKEN_NAME</code> and <code>TOKEN_PASSWORD</code> are your secret tokens:</p><pre><code> &lt;!-- make sure you have the root `settings node: --&gt;
 &lt;settings&gt;
   &lt;servers&gt;
     &lt;server&gt;
       &lt;id&gt;apache.releases.https&lt;/id&gt;
       &lt;username&gt;TOKEN_NAME&lt;/username&gt;
       &lt;password&gt;TOKEN_PASSWORD&lt;/password&gt;
     &lt;/server&gt;
     &lt;server&gt;
       &lt;id&gt;apache.snapshots.https&lt;/id&gt;
       &lt;username&gt;TOKEN_NAME&lt;/username&gt;
       &lt;password&gt;TOKEN_PASSWORD&lt;/password&gt;
     &lt;/server&gt;
   &lt;/servers&gt;
 &lt;/settings&gt;
</code></pre></li></ol><h4 id=submit-your-gpg-public-key-into-ubuntu-openpgp-key-server>Submit your GPG public key into Ubuntu OpenPGP Key Server</h4><p>In order to make yourself have right permission to stage java artifacts in Apache Nexus staging repository,
please submit your GPG public key into the <a href=https://keyserver.ubuntu.com/>Ubuntu OpenPGP Key Server</a>.</p><p>You will need to use an ascii-armored version of your key.
This can be obtained by running <code>gpg --export --armor</code> and copying the whole block
(including <code>-----&lt;START/END> PGP PUBLIC KEY BLOCK-----</code>).</p><h4 id=website-development-setup>Website development setup</h4><p>Updating the Beam website requires submitting PRs to both the main <code>apache/beam</code> repo and the <code>apache/beam-site</code> repo.
The first contains reference manuals generated from SDK code, while the second updates the current release version number.</p><p>You should already have setup a local clone of <code>apache/beam</code>.
Setting up a clone of <code>apache/beam-site</code> is similar:</p><pre><code>$ git clone -b release-docs https://github.com/apache/beam-site.git
$ cd beam-site
$ git remote add &lt;GitHub_user&gt; git@github.com:&lt;GitHub_user&gt;/beam-site.git
$ git fetch --all
$ git checkout -b &lt;my-branch&gt; origin/release-docs
</code></pre><p>Further instructions on website development on <code>apache/beam</code> is <a href=https://github.com/apache/beam/blob/master/website>here</a>.
Background information about how the website is updated can be found in <a href=https://s.apache.org/beam-site-automation>Beam-Site Automation Reliability</a>.</p><h4 id=register-to-pypi>Register to PyPI</h4><p>Release manager needs to have an account with PyPI.
If you need one, <a href=https://pypi.python.org/account/register/>register at PyPI</a>.
You also need to be a maintainer (or an owner) of the <a href=https://pypi.python.org/pypi/apache-beam>apache-beam</a> package in order to push a new release.
Ask on the mailing list for assistance.</p><h4 id=login-to-dockerhub>Login to DockerHub</h4><p>If you are a member of the <a href=https://hub.docker.com/orgs/apache/teams/beam><code>beam</code> DockerHub team</a>, run following command manually.
It will ask you to input your DockerHub ID and password if authorization info cannot be found from ~/.docker/config.json file.</p><pre tabindex=0><code>docker login docker.io
</code></pre><p>After successful login, authorization info will be stored at ~/.docker/config.json file.
For example,</p><pre tabindex=0><code>&#34;https://index.docker.io/v1/&#34;: {
   &#34;auth&#34;: &#34;xxxxxx&#34;
}
</code></pre><p>If you are not already a member of the <code>beam</code> team, please email <code>dev@</code> for help with any DockerHub related tasks. We are not able
to add more members to the DockerHub team because <a href=https://infra.apache.org/docker-hub-policy.html>the ASF has a limited number of seats available</a>.</p><h3 id=create-a-new-milestone-in-github>Create a new milestone in GitHub</h3><p>When contributors resolve an issue in GitHub, they are tagging it with a release that will contain their changes.
With the release currently underway, new issues should be resolved against a subsequent future release.
Therefore, you should create a release item for this subsequent release, as follows:</p><ol><li>In GitHub, navigate to <a href=https://github.com/apache/beam/milestones><code>Issues > Milestones > New Milestone</code></a>.</li><li>Add a new release. Choose the next minor version number after the version currently underway, select the next release due date (generally 6 weeks from today’s date) as the <code>Start Date</code>, and choose <code>Create Milestone</code>.</li><li>At the end of the release, go to the same page and mark the recently released version as closed.</li></ol><hr><h2 id=3-update-base-image-dependencies-for-python-container-images>3. Update base image dependencies for Python container images</h2><p>See instructions at: <a href=https://s.apache.org/beam-python-requirements-generate>https://s.apache.org/beam-python-requirements-generate</a></p><p>Ideally, do the update at least a week before the release cut, so that any issues
related to the update have time to surface.</p><h2 id=4-investigate-performance-regressions>4. Investigate performance regressions</h2><p>Check the Beam load tests for possible performance regressions.
Measurements are available on <a href=http://metrics.beam.apache.org>metrics.beam.apache.org</a>.</p><p>All Runners which publish data should be checked for the following, in both <em>batch</em> and <em>streaming</em> mode:</p><ul><li><a href=http://metrics.beam.apache.org/d/MOi-kf3Zk/pardo-load-tests>ParDo</a> and <a href=http://metrics.beam.apache.org/d/UYZ-oJ3Zk/gbk-load-test>GBK</a>: Runtime, latency, checkpoint duration</li><li><a href=http://metrics.beam.apache.org/d/ahudA_zGz/nexmark>Nexmark</a>: Query runtime for all queries</li><li><a href=http://metrics.beam.apache.org/d/bnlHKP3Wz/java-io-it-tests-dataflow>IO</a>: Runtime</li></ul><p>If regressions are found, the release branch can still be created, but the regressions should be investigated and fixed as part of the release process.
The role of the release manager is to file GitHub issues for each regression with the milestone set to the to-be-released version.
The release manager oversees these just like any other issue marked with the milestone of the release.</p><p>The mailing list should be informed to allow fixing the regressions in the course of the release.</p><h2 id=5-create-a-release-branch-in-apachebeam-repository>5. Create a release branch in apache/beam repository</h2><p>Attention: Only committer has permission to create release branch in apache/beam.</p><p>Release candidates are built from a release branch.
As a final step in preparation for the release, you should create the release branch, push it to the Apache code repository, and update version information on the original branch.
The final state of the repository should match this diagram:</p><img src=/images/cut-release-branch.png alt="Increment minor version on master branch and set Dataflow container version on release branch" width=100%><p>The key points to know:</p><ul><li>The <code>master</code> branch has the SNAPSHOT/dev version incremented.</li><li>The release branch has the SNAPSHOT/dev version to be released.</li><li>The Dataflow container image should be modified to the version to be released.</li></ul><p>This will all be accomplished by the <a href=https://github.com/apache/beam/actions/workflows/cut_release_branch.yml>cut_release_branch</a>
workflow. This workflow will also update <a href=https://github.com/apache/beam/blob/master/release/src/main/scripts/mass_comment.py>mass_comment.py</a>
to contain all of the active Jenkins jobs.</p><p>After updating the master branch, the workflow will also start a build of
<a href=https://ci-beam.apache.org/job/beam_Release_NightlySnapshot/>the nightly snapshot</a> against master branch.
Some processes, including our archetype tests, rely on having a live SNAPSHOT of the current version from the <code>master</code> branch.
Once the release branch is cut, these SNAPSHOT versions are no longer found, so builds will be broken until a new snapshot is available.
The workflow starts the nightly snapshot by creating an empty PR against apache:master (which will be linked to in the logs).</p><h4 id=use-cut_release_branchsh-to-cut-a-release-branch>Use cut_release_branch.sh to cut a release branch</h4><ul><li><strong>Action:</strong> <a href=https://github.com/apache/beam/actions/workflows/cut_release_branch.yml>cut_release_branch</a> (click <code>run workflow</code>)</li></ul><p>In order to run this workflow, you will need to provide a Jenkins username and API token. Your Jenkins username should be your Apache ID.
Your Jenkins API token can be generated by visiting <a href=https://ci-beam.apache.org/user/>https://ci-beam.apache.org/user/</a><your jenkins username>/configure and clicking
<code>Add new token</code> in the API token section.</p><ul><li>Tasks you need to do manually to <strong>verify the SNAPSHOT build</strong><ol><li>Check whether the Jenkins job gets triggered. If not, please comment <code>Run Gradle Publish</code> into the generated PR.</li><li>After verifying build succeeded, you need to close PR manually.</li><li>Manually update <code>CHANGES.md</code> on <code>master</code> by adding a new section for the next release (<a href=https://github.com/apache/beam/commit/96ab1fb3fe07acf7f7dc9d8c829ae36890d1535c>example</a>).</li></ol></li></ul><hr><h2 id=6-verify-release-branch>6. Verify release branch</h2><p>After the release branch is cut you need to make sure it builds and has no significant issues that would block the creation of the release candidate.
There are 2 ways to perform this verification, either running automation script(recommended), or running all commands manually.</p><p>! Dataflow tests will fail if Dataflow worker container is not created and published by this time. (Should be done by Google)</p><h4 id=run-automation-script-verify_release_buildsh>Run automation script (verify_release_build.sh)</h4><ul><li><p><strong>Script:</strong> <a href=https://github.com/apache/beam/blob/master/release/src/main/scripts/verify_release_build.sh>verify_release_build.sh</a></p></li><li><p><strong>Usage</strong></p><ol><li>Create a personal access token from your Github account.
See instruction <a href=https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line>here</a>.
It&rsquo;ll be used by the script for accessing Github API.
You only need to enable &ldquo;repo&rdquo; permissions to this token.</li><li>Update required configurations listed in <code>RELEASE_BUILD_CONFIGS</code> in <a href=https://github.com/apache/beam/blob/master/release/src/main/scripts/script.config>script.config</a></li><li>Then run<pre tabindex=0><code>cd beam/release/src/main/scripts &amp;&amp; ./verify_release_build.sh
</code></pre></li><li>Trigger all Jenkins PostCommit jobs from the PR created by the previous step.
You can run <a href=https://github.com/apache/beam/blob/master/release/src/main/scripts/mass_comment.py>mass_comment.py</a> to do that.
Or manually add one trigger phrase per PR comment.
See <a href=https://github.com/apache/beam/blob/master/release/src/main/scripts/jenkins_jobs.txt>jenkins_jobs.txt</a>
for a full list of phrases.</li></ol></li><li><p><strong>Tasks included in the script</strong></p><ol><li>Installs <code>hub</code> with your agreement and setup local git repo;</li><li>Create a test PR against release branch;</li></ol></li></ul><h4 id=verify-the-build-succeeds>Verify the build succeeds</h4><ul><li>Tasks you need to do manually to <strong>verify the build succeed</strong>:<ol><li>Check the build result.</li><li>If build failed, scan log will contain all failures.</li><li>You should stabilize the release branch until release build succeeded.</li></ol></li></ul><p>There are some projects that don&rsquo;t produce the artifacts, e.g. <code>beam-test-tools</code>, you may be able to ignore failures there.</p><p>To triage the failures and narrow things down you may want to look at <code>settings.gradle.kts</code> and run the build only for the projects you&rsquo;re interested at the moment, e.g. <code>./gradlew :runners:java-fn-execution</code>.</p><h4 id=alternative-run-release-build-manually-locally>(Alternative) Run release build manually (locally)</h4><p>You will need to have Python interpreters for all supported Python minor
versions to run Python tests. See Python installation tips in <a href=https://cwiki.apache.org/confluence/display/BEAM/Python+Tips#PythonTips-InstallingPythoninterpreters>Developer Wiki</a>.</p><ul><li><p><strong>Run gradle release build</strong></p><ol><li><p>Clean current workspace</p><pre tabindex=0><code>git clean -fdx
./gradlew clean
</code></pre></li><li><p>Unlock the secret key</p><pre tabindex=0><code>gpg --output ~/doc.sig --sign ~/.bashrc
</code></pre></li><li><p>Run build command</p><pre tabindex=0><code>./gradlew build -PisRelease --no-parallel --scan --stacktrace --continue
</code></pre><p>To speed things up locally you might want to omit <code>--no-parallel</code>. You can also omit <code>--continue</code>
if you want build fails after the first error instead of continuing, it may be easier and faster
to find environment issues this way without having to wait until the full build completes.</p></li></ol></li></ul><h4 id=create-release-blocking-issues-in-github>Create release-blocking issues in GitHub</h4><p>The verify_release_build.sh script may include failing or flaky tests.
For each of the failing tests create a GitHub Issue with the following properties:</p><ul><li><p><strong>Issue Type:</strong> Bug</p></li><li><p><strong>Summary:</strong> Name of failing gradle task and name of failing test (where applicable) in form of :MyGradleProject:SomeGradleTask NameOfFailedTest: Short description of failure</p></li><li><p><strong>Priority:</strong> P1</p></li><li><p><strong>Component:</strong> &ldquo;test-failures&rdquo;</p></li><li><p><strong>Milestone:</strong> Release number of verified release branch</p></li><li><p><strong>Description:</strong> Description of failure</p></li></ul><h4 id=inform-the-mailing-list>Inform the mailing list</h4><p>The <a href=mailto:dev@beam.apache.org>dev@beam.apache.org</a> mailing list should be informed about the release branch being cut.
Alongside with this note, a list of pending issues and to-be-triaged issues should be included.
Afterwards, this list can be refined and updated by the release manager and the Beam community.</p><hr><h2 id=7-triage-release-blocking-issues-in-github>7. Triage release-blocking issues in GitHub</h2><p>There could be outstanding release-blocking issues, which should be triaged before proceeding to build a release candidate.
We track them by assigning the blocked release to the issue&rsquo;s milestone before the issue is resolved.</p><p>The release manager should triage what does and does not block a release.
The list of release-blocking issues is available at the <a href=https://github.com/apache/beam/milestones>milestone status page</a>.
Triage each unresolved issue with one of the following resolutions:</p><ul><li>An issue should not block the release if the problem exists in the current released version or is a bug in new functionality that does not exist in the current released version.</li><li>An issue should be a blocker if the problem is a regression between the currently released version and the release in progress and has no easy workaround.</li></ul><p>For all GitHub issues:</p><ul><li>If the issue has been resolved and the GitHub issue was not updated, resolve it accordingly.</li></ul><p>For issues with type &ldquo;Bug&rdquo; or labeled &ldquo;flaky&rdquo;:</p><ul><li>If the issue is a known continuously failing test, it is not acceptable to defer this until the next release.
Please work with the Beam community to resolve the issue.</li><li>If the issue is a known flaky test, make an attempt to delegate a fix.
However, if the issue may take too long to fix (to the discretion of the release manager):<ul><li>Delegate manual testing of the flaky issue to ensure no release blocking issues.</li><li>Update the milestone to the version of the next release.
Please consider discussing this with stakeholders and the dev@ mailing list, as appropriate.</li></ul></li></ul><p>For all other GitHub issues:</p><ul><li>If the issue has not been resolved and it is acceptable to defer this until the next release, update the milestone to the new version you just created.
Please consider discussing this with stakeholders and the dev@ mailing list, as appropriate.</li><li>If the issue has not been resolved and it is not acceptable to release until it is fixed, the release cannot proceed.
Instead, work with the Beam community to resolve the issue.</li></ul><p>If there is a bug found in the RC creation process/tools, those issues should be considered high priority and fixed in 7 days.</p><h3 id=review-cherry-picks>Review cherry-picks</h3><p>Check if there are outstanding cherry-picks into the release branch, <a href="https://github.com/apache/beam/pulls?utf8=%E2%9C%93&amp;q=is%3Apr+base%3Arelease-2.14.0">e.g. for <code>2.14.0</code></a>.
Make sure they have blocker Issues attached and are OK to get into the release by checking with community if needed.</p><p>As the Release Manager you are empowered to accept or reject cherry-picks to the release branch.
You are encouraged to ask the following questions to be answered on each cherry-pick PR and you can choose to reject cherry-pick requests if these questions are not satisfactorily answered:</p><ul><li>Is this a regression from a previous release? (If no, fix could go to a newer version.)</li><li>Is this a new feature or related to a new feature? (If yes, fix could go to a new version.)</li><li>Would this impact production workloads for users? (E.g. if this is a direct runner only fix it may not need to be a cherry pick.)</li><li>What percentage of users would be impacted by this issue if it is not fixed? (E.g. If this is predicted to be a small number it may not need to be a cherry pick.)</li><li>Would it be possible for the impacted users to skip this version? (If users could skip this version, fix could go to a newer version.)</li></ul><p>It is important to accept major/blocking fixes to isolated issues to make a higher quality release.
However, beyond that each cherry pick will increase the time required for the release and add more last minute code to the release branch.
Neither late releases nor not fully tested code will provide positive user value.</p><p><strong>Tip</strong>: Another tool in your toolbox is the known issues section of the release blog.
Consider adding known issues there for minor issues instead of accepting cherry picks to the release branch.</p><hr><h2 id=8-build-a-release-candidate>8. Build a release candidate</h2><h4 id=checklist-before-proceeding>Checklist before proceeding</h4><ul><li>Release Manager’s GPG key is published to <code>dist.apache.org</code>;</li><li>Release Manager’s GPG key is configured in <code>git</code> configuration;</li><li>Set <code>SIGNING_KEY</code> to the public key of the Manager&rsquo;s GPG key;</li><li>Release Manager has <code>org.apache.beam</code> listed under <code>Staging Profiles</code> in Nexus;</li><li>Release Manager’s Nexus User Token is configured in <code>settings.xml</code>;</li><li>GitHub issue release item for the subsequent release has been created;</li><li>All test failures from branch verification have associated GitHub issues;</li><li>There are no release blocking GitHub issues;</li><li>Release branch has been created;</li><li>There are no open pull requests to release branch;</li><li>Originating branch has the version information updated to the new version;</li><li>Nightly snapshot is in progress (do revisit it continually);</li><li>Set <code>JAVA_HOME</code> to JDK 8 (Example: <code>export JAVA_HOME=/example/path/to/java/jdk8</code>).</li><li>Have Java 11 installed.</li></ul><p>The core of the release process is the build-vote-fix cycle.
Each cycle produces one release candidate.
The Release Manager repeats this cycle until the community approves one release candidate, which is then finalized.</p><p>For this step, we recommend you using automation script to create a RC, but you still can perform all steps manually if you want.</p><h3 id=tag-a-chosen-commit-for-the-rc>Tag a chosen commit for the RC</h3><p>Release candidates are built from single commits off the release branch.
Before building, the version must be set to a non-SNAPSHOT, non-dev version.
The final state of the repository should match this diagram:</p><img src=/images/tag-rc-commit.png alt="Set version to non-SNAPSHOT, non-dev, on tagged RC commit" width=100%><ul><li>The release branch is unchanged.</li><li>There is a commit not on the release branch with the version adjusted.</li><li>The RC tag points to that commit.</li></ul><ul><li><p><strong>Script:</strong> <a href=https://github.com/apache/beam/blob/master/release/src/main/scripts/choose_rc_commit.sh>choose_rc_commit.sh</a></p></li><li><p><strong>Usage</strong></p><pre><code>./beam/release/src/main/scripts/choose_rc_commit.sh \
    --release &quot;${RELEASE_VERSION}&quot; \
    --rc &quot;${RC_NUM}&quot; \
    --commit &quot;${COMMIT_REF}&quot; \
    --clone \
    --push-tag
</code></pre></li></ul><p>You can do a dry run by omitting the <code>--push-tag</code> flag. Then it will only clone the repo,
adjust the version, and add the tag locally. If it looks good, run it again with <code>--push-tag</code>.
If you already have a clone that includes the <code>${COMMIT_REF}</code> then you can omit <code>--clone</code>. This
is perfectly safe since the script does not depend on the current working tree.</p><p>See the source of the script for more details, or to run commands manually in case of a problem.</p><h3 id=run-build_release_candidate-github-action-to-create-a-release-candidate>Run build_release_candidate GitHub Action to create a release candidate</h3><p>Note: This step is partially automated (in progress), so part of the rc creation is done by GitHub Actions and the rest is done by a script.
You don&rsquo;t need to wait for the action to complete to start running the script.</p><ul><li><p><strong>Action</strong> <a href=https://github.com/apache/beam/actions/workflows/build_release_candidate.yml>build_release_candidate</a> (click <code>run workflow</code>)</p></li><li><p><strong>The script will:</strong></p><ol><li>Clone the repo at the selected RC tag.</li><li>Run gradle publish to push java artifacts into Maven staging repo.</li><li>Stage SDK docker images to <a href="https://hub.docker.com/search?q=apache%2Fbeam&amp;type=image">docker hub Apache organization</a>.</li><li>Build javadoc, pydoc, typedocs for a PR to update beam-site.<ul><li><strong>NOTE</strong>: Do not merge this PR until after an RC has been approved (see &ldquo;Finalize the Release&rdquo;).</li></ul></li></ol></li></ul><h4 id=tasks-you-need-to-do-manually>Tasks you need to do manually</h4><ol><li>Publish staging artifacts<ol><li>Log in to the <a href=https://repository.apache.org/#stagingRepositories>Apache Nexus</a> website.</li><li>Navigate to Build Promotion -> Staging Repositories (in the left sidebar).</li><li>Select repository <code>orgapachebeam-NNNN</code>.</li><li>Click the Close button.</li><li>When prompted for a description, enter “Apache Beam, version X, release candidate Y”.</li><li>Review all staged artifacts on <code>https://repository.apache.org/content/repositories/orgapachebeam-NNNN/</code>.
They should contain all relevant parts for each module, including <code>pom.xml</code>, jar, test jar, javadoc, etc.
Artifact names should follow <a href=https://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.apache.beam%22>the existing format</a> in which artifact name mirrors directory structure, e.g., <code>beam-sdks-java-io-kafka</code>.
Carefully review any new artifacts.
Some additional validation should be done during the rc validation step.</li></ol></li></ol><h3 id=run-build_release_candidatesh-to-create-a-release-candidate>Run build_release_candidate.sh to create a release candidate</h3><ul><li><p><strong>Script:</strong> <a href=https://github.com/apache/beam/blob/master/release/src/main/scripts/build_release_candidate.sh>build_release_candidate.sh</a></p></li><li><p><strong>Usage</strong></p><pre><code>./beam/release/src/main/scripts/build_release_candidate.sh --release &quot;${RELEASE_VERSION}&quot; --rc &quot;${RC_NUM}&quot; --github-user &quot;${GITHUB_USER}&quot; --java11-home &quot;${JAVA11_HOME}&quot; --signing-key &quot;${SIGNING_KEY}&quot;
</code></pre></li><li><p><strong>The script will:</strong></p><ol><li>Clone the repo at the selected RC tag.</li><li>Stage source release into dist.apache.org dev <a href=https://dist.apache.org/repos/dist/dev/beam/>repo</a>.
Skip this step if you already did it with the build_release_candidate GitHub Actions workflow.</li><li>Stage, sign and hash python source distribution and wheels into dist.apache.org dev repo python dir</li><li>Stage SDK docker images to <a href="https://hub.docker.com/search?q=apache%2Fbeam&amp;type=image">docker hub Apache organization</a>.
Skip this step if you already did it with the build_release_candidate GitHub Actions workflow.
Note: if you are not a member of the <a href=https://hub.docker.com/orgs/apache/teams/beam><code>beam</code> DockerHub team</a> you will need
help with this step. Please email <code>dev@</code> and ask a member of the <code>beam</code> DockerHub team for help.</li><li>Create a PR to update beam-site, changes includes:<ul><li>Copy python doc into beam-site</li><li>Copy java doc into beam-site</li><li><strong>NOTE</strong>: Do not merge this PR until after an RC has been approved (see &ldquo;Finalize the Release&rdquo;).
Skip this step if you already did it with the build_release_candidate GitHub Actions workflow.</li></ul></li></ol></li></ul><h4 id=tasks-you-need-to-do-manually-1>Tasks you need to do manually</h4><ol><li>Verify the script worked.<ol><li>Verify that the source and Python binaries are present in <a href=https://dist.apache.org/repos/dist/dev/beam>dist.apache.org</a>.</li><li>Verify Docker images are published. How to find images:<ol><li>Visit <a href="https://hub.docker.com/search?q=apache%2Fbeam&amp;type=image">https://hub.docker.com/u/apache</a></li><li>Visit each repository and navigate to <em>tags</em> tab.</li><li>Verify images are pushed with tags: ${RELEASE_VERSION}_rc{RC_NUM}</li></ol></li><li>Verify that third party licenses are included in Docker containers by logging in to the images.<ul><li>For Python SDK images, there should be around 80 ~ 100 dependencies.
Please note that dependencies for the SDKs with different Python versions vary.
Need to verify all Python images by replacing <code>${ver}</code> with each supported Python version <code>X.Y</code>.</li></ul><pre tabindex=0><code>docker run --rm -it --entrypoint=/bin/bash apache/beam_python${ver}_sdk:${RELEASE_VERSION}rc${RC_NUM}
ls -al /opt/apache/beam/third_party_licenses/ | wc -l
</code></pre><ul><li>For Java SDK images, there should be around 200 dependencies.</li></ul><pre tabindex=0><code>docker run --rm -it --entrypoint=/bin/bash apache/beam_java${ver}_sdk:${RELEASE_VERSION}rc${RC_NUM}
ls -al /opt/apache/beam/third_party_licenses/ | wc -l
</code></pre></li></ol></li></ol><h3 id=upload-release-candidate-to-pypi>Upload release candidate to PyPi</h3><ul><li><p><strong>Script:</strong> <a href=https://github.com/apache/beam/blob/master/release/src/main/scripts/deploy_release_candidate_pypi.sh>deploy_release_candidate_pypi.sh</a></p></li><li><p><strong>Usage</strong></p><pre><code>  ./release/src/main/scripts/deploy_release_candidate_pypi.sh \
      --release &quot;${RELEASE_VERSION}&quot; \
      --rc &quot;${RC_NUM}&quot; \
      --user &quot;${GITHUB_USER}&quot; \
      --deploy
</code></pre></li><li><p><strong>The script will:</strong></p><ol><li>Download python binary artifacts</li><li>Deploy release candidate to PyPI</li></ol></li></ul><p><strong>Attention:</strong> Verify that:</p><ul><li>The File names version include <code>rc-#</code> suffix</li><li><a href=https://pypi.org/project/apache-beam/#files>Download Files</a> have:<ul><li>All wheels uploaded as artifacts</li><li>Release source&rsquo;s zip published</li><li>Signatures and hashes do not need to be uploaded</li></ul></li></ul><p>You can do a dry run by omitting the <code>--deploy</code> flag. Then it will only download the release candidate binaries. If it looks good, rerun it with <code>--deploy</code>.</p><p>See the source of the script for more details or to run commands manually in case of a problem.</p><hr><h2 id=9-prepare-documents>9. Prepare documents</h2><h3 id=propose-pull-requests-for-website-updates>Propose pull requests for website updates</h3><p>Beam publishes API reference manuals for each release on the website.
For Java and Python SDKs, that’s Javadoc and PyDoc, respectively.
The final step of building the candidate is to propose website pull requests that update these manuals.</p><p>Merge the pull requests only after finalizing the release.
To avoid invalid redirects for the &lsquo;current&rsquo; version, merge these PRs in the order listed.
Once the PR is merged, the new contents will get picked up automatically and served to the Beam website, usually within an hour.
A committer can manually trigger the <a href=https://ci-beam.apache.org/job/beam_PostCommit_Website_Publish/>beam_PostCommit_Website_Publish</a> task in Jenkins to avoid waiting.</p><p><strong>PR 1: apache/beam-site</strong></p><p>This pull request is against the <code>apache/beam-site</code> repo, on the <code>release-docs</code> branch (<a href=https://github.com/apache/beam-site/pull/603>example</a>).
It is created by <code>build_release_candidate.sh</code> (see above).</p><p><strong>PR 2: apache/beam</strong></p><p>This pull request is against the <code>apache/beam</code> repo, on the <code>master</code> branch (<a href=https://github.com/apache/beam/pull/17378>example</a>).</p><ul><li>Update <code>CHANGES.md</code> to update release date and remove template.</li><li>Update release version in <code>website/www/site/config.toml</code>.</li><li>Add new release in <code>website/www/site/content/en/get-started/downloads.md</code>.<ul><li>Download links will not work until the release is finalized.</li></ul></li><li>Update links to prior releases to point to <a href=https://archive.apache.org>https://archive.apache.org</a> (see
example PR).</li><li>Create the Blog post:</li></ul><h4 id=blog-post>Blog post</h4><p>Use the template below to write a blog post for the release.
See <a href=https://github.com/apache/beam/commit/a32a75ed0657c122c6625aee1ace27994e7df195#diff-1e2b83a4f61dce8014a1989869b6d31eb3f80cb0d6dade42fb8df5d9407b4748>beam-2.31.0.md</a> as an example.</p><ul><li>Copy the changes for the current release from <code>CHANGES.md</code> to the blog post and edit as necessary.</li><li>Be sure to add yourself to <a href=https://github.com/apache/beam/blob/master/website/www/site/data/authors.yml>authors.yml</a> if necessary.</li></ul><p><strong>Tip</strong>: Use git log to find contributors to the releases. (e.g: <code>git fetch origin --tags; git log --pretty='%aN' ^v2.10.0 v2.11.0-RC1 | sort | uniq</code>).
Make sure to clean it up, as there may be duplicate or incorrect user names.</p><p><strong>NOTE</strong>: Make sure to include any breaking changes, even to <code>@Experimental</code> features,
all major features and bug fixes, and all known issues.</p><p><strong>Template:</strong></p><pre><code>---
title:  &quot;Apache Beam {$RELEASE_VERSION}&quot;
date:   YYYY-MM-DD H:MM:00 Z
categories:
  - blog
  - release
authors:
  - {$RELEASE_MANAGER}
---
&lt;!--
Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--&gt;

We are happy to present the new {$RELEASE_VERSION} release of Beam.
This release includes both improvements and new functionality.
See the [download page](/get-started/downloads/{$DOWNLOAD_ANCHOR}) for this release.

&lt;{$REMOVE_FOR_VALID_SUMMARY_BREAK}!--more--&gt;

For more information on changes in {$RELEASE_VERSION}, check out the [detailed release notes]({$LINK_TO_GITHUB_MILESTONE}).

## Highlights

  * New highly anticipated feature X added to Python SDK ([#X](https://github.com/apache/beam/issues/X)).
  * New highly anticipated feature Y added to Java SDK ([#Y](https://github.com/apache/beam/issues/Y)).

{$TOPICS e.g.:}
### I/Os
* Support for X source added (Java) ([#X](https://github.com/apache/beam/issues/X)).
{$TOPICS}

### New Features / Improvements

* X feature added (Python) ([#X](https://github.com/apache/beam/issues/X)).
* Y feature added (Java) [#Y](https://github.com/apache/beam/issues/Y).

### Breaking Changes

* X behavior was changed ([#X](https://github.com/apache/beam/issues/X)).
* Y behavior was changed ([#Y](https://github.com/apache/beam/issues/Y)).

### Deprecations

* X behavior is deprecated and will be removed in X versions ([#X](https://github.com/apache/beam/issues/X)).

### Bugfixes

* Fixed X (Python) ([#X](https://github.com/apache/beam/issues/X)).
* Fixed Y (Java) ([#Y](https://github.com/apache/beam/issues/Y)).

### Known Issues

* {$KNOWN_ISSUE_1}
* {$KNOWN_ISSUE_2}

## List of Contributors

According to git shortlog, the following people contributed to the {$RELEASE_VERSION} release. Thank you to all contributors!

${CONTRIBUTORS}
</code></pre><h4 id=checklist-to-proceed-to-the-next-step-1>Checklist to proceed to the next step</h4><ol><li>Maven artifacts deployed to the staging repository of <a href=https://repository.apache.org/content/repositories/>repository.apache.org</a></li><li>Source distribution deployed to the dev repository of <a href=https://dist.apache.org/repos/dist/dev/beam/>dist.apache.org</a></li><li>Website pull request proposed to list the <a href=/get-started/downloads/>release</a>, publish the <a href=https://beam.apache.org/releases/javadoc/>Java API reference manual</a>, and publish the <a href=https://beam.apache.org/releases/pydoc/>Python API reference manual</a>.</li><li>Docker images are published to <a href="https://hub.docker.com/search?q=apache%2Fbeam&amp;type=image">DockerHub</a> with tags: {RELEASE_VERSION}_rc{RC_NUM}.</li></ol><p>You can (optionally) also do additional verification by:</p><ol><li>Check that Python zip file contains the <code>README.md</code>, <code>NOTICE</code>, and <code>LICENSE</code> files.</li><li>Check hashes (e.g. <code>md5sum -c *.md5</code> and <code>sha1sum -c *.sha1</code>. Note that signature/checksum files of Java artifacts may not contain filenames. Hence you might need to compare checksums/signatures manually or modify the files by appending the filenames.)</li><li>Check signatures (e.g. <code>gpg --verify apache-beam-1.2.3-python.zip.asc apache-beam-1.2.3-python.zip</code>)</li><li><code>grep</code> for legal headers in each file.</li><li>Run all jenkins suites and include links to passing tests in the voting email.</li><li>Pull docker images to make sure they are pullable.</li></ol><pre tabindex=0><code>docker pull {image_name}
docker pull apache/beam_python3.7_sdk:2.39.0rc1
</code></pre><hr><h2 id=10-vote-and-validate-release-candidate>10. Vote and validate release candidate</h2><p>Once you have built and individually reviewed the release candidate, please share it for the community-wide review.
Please review foundation-wide <a href=https://www.apache.org/foundation/voting.html>voting guidelines</a> for more information.</p><p>Start the review-and-vote thread on the dev@ mailing list.
Here’s an email template; please adjust as you see fit.</p><pre><code>From: Release Manager
To: dev@beam.apache.org
Subject: [VOTE] Release 1.2.3, release candidate #3

Hi everyone,
Please review and vote on the release candidate #3 for the version 1.2.3, as follows:
[ ] +1, Approve the release
[ ] -1, Do not approve the release (please provide specific comments)


Reviewers are encouraged to test their own use cases with the release candidate, and vote +1 if
no issues are found. Only PMC member votes will count towards the final vote, but votes from all
community members is encouraged and helpful for finding regressions; you can either test your own
use cases or use cases from the validation sheet [10].

The complete staging area is available for your review, which includes:
* GitHub Release notes [1],
* the official Apache source release to be deployed to dist.apache.org [2], which is signed with the key with fingerprint FFFFFFFF [3],
* all artifacts to be deployed to the Maven Central Repository [4],
* source code tag &quot;v1.2.3-RC3&quot; [5],
* website pull request listing the release [6], the blog post [6], and publishing the API reference manual [7].
* Java artifacts were built with Gradle GRADLE_VERSION and OpenJDK/Oracle JDK JDK_VERSION.
* Python artifacts are deployed along with the source release to the dist.apache.org [2] and PyPI[8].
* Go artifacts and documentation are available at pkg.go.dev [9]
* Validation sheet with a tab for 1.2.3 release to help with validation [10].
* Docker images published to Docker Hub [11].
* PR to run tests against release branch [12].

The vote will be open for at least 72 hours. It is adopted by majority approval, with at least 3 PMC affirmative votes.

For guidelines on how to try the release in your projects, check out our blog post at /blog/validate-beam-release/.

Thanks,
Release Manager

[1] https://github.com/apache/beam/milestone/1...
[2] https://dist.apache.org/repos/dist/dev/beam/1.2.3/
[3] https://dist.apache.org/repos/dist/release/beam/KEYS
[4] https://repository.apache.org/content/repositories/orgapachebeam-NNNN/
[5] https://github.com/apache/beam/tree/v1.2.3-RC3
[6] https://github.com/apache/beam/pull/...
[7] https://github.com/apache/beam-site/pull/...
[8] https://pypi.org/project/apache-beam/1.2.3rc3/
[9] https://pkg.go.dev/github.com/apache/beam/sdks/v2@v1.2.3-RC3/go/pkg/beam
[10] https://docs.google.com/spreadsheets/d/1qk-N5vjXvbcEk68GjbkSZTR8AGqyNUM-oLFo_ZXBpJw/edit#gid=...
[11] https://hub.docker.com/search?q=apache%2Fbeam&amp;type=image
[12] https://github.com/apache/beam/pull/...
</code></pre><p>If there are any issues found in the release candidate, reply on the vote thread to cancel the vote.
There’s no need to wait 72 hours.
Proceed to the <code>Fix Issues</code> step below and address the problem.
However, some issues don’t require cancellation.
For example, if an issue is found in the website pull request, just correct it on the spot and the vote can continue as-is.</p><h3 id=run-validation-tests>Run validation tests</h3><p>The community is responsible for performing validation, but as release manager you are expected to contribute as well.
Before accepting an RC, as a community we try to exercise most (if not all) of the tests listed in this
<a href=https://s.apache.org/beam-release-validation>spreadsheet</a>, and those are good validations for you to try out as release manager.
The goal of these tests is to validate that we&rsquo;re able to run basic pipelines from a variety of environments (not just our CI environment).</p><p>Since there are a bunch of tests, we recommend you running some validations using an automation script.
In case of script failure, you can still run all of them manually.</p><p>You may need to have Python interpreters for all supported Python minor
versions to run all of the tests. See Python installation tips in <a href=https://cwiki.apache.org/confluence/display/BEAM/Python+Tips#PythonTips-InstallingPythoninterpreters>Developer Wiki</a>.</p><h4 id=run-validations-using-run_rc_validationsh>Run validations using run_rc_validation.sh</h4><ul><li><p><strong>Script:</strong> <a href=https://github.com/apache/beam/blob/master/release/src/main/scripts/run_rc_validation.sh>run_rc_validation.sh</a></p></li><li><p><strong>Usage</strong></p><ol><li>First update required configurations listed in <code>RC_VALIDATE_CONFIGS</code> in
<a href=https://github.com/apache/beam/blob/master/release/src/main/scripts/script.config>script.config</a></li><li>Then run<pre tabindex=0><code>./beam/release/src/main/scripts/run_rc_validation.sh
</code></pre></li></ol></li></ul><p><strong>Note:</strong> running the validations requires the ability to do the following in your GCP account: start pipelines,
write to BigQuery, and create a cluster of machines for running containers (for x-lang validation).</p><ul><li><p><strong>Tasks included</strong></p><ol><li>Create a PR to trigger Python validation job, including<ul><li>Python quickstart in batch and streaming mode with direct runner and Dataflow runner.</li><li>Python Mobile Games(UserScore, HourlyTeamScore) with direct runner and Dataflow runner.</li></ul></li><li>Run Python Streaming MobileGames, includes<ul><li>Start a new terminal to run Java Pubsub injector.</li><li>Start a new terminal to run Python LeaderBoard with Direct Runner.</li><li>Start a new terminal to run Python LeaderBoard with Dataflow Runner.</li><li>Start a new terminal to run Python GameStats with Direct Runner.</li><li>Start a new terminal to run Python GameStats with Dataflow Runner.</li></ul></li><li>Multi-language pipelines validation, includes<ul><li>Running the Python quickstart example using Python portable DirectRunner. This will start a new terminal for the Java expansion service.</li><li>Running the Java quickstart example using Python portable DirectRunner. This will start new terminals for the Python expansion service and the job server.</li><li>Start a new terminal to run Python multi-language Java kafka validation with Dataflow Runner.</li><li>Start a new terminal to run Python multi-language Java sql validation with Dataflow Runner.</li></ul></li></ol></li><li><p><strong>Tasks you need to do manually</strong></p><ol><li>Check whether validations succeed by following console output instructions.</li><li>Terminate streaming jobs and java injector.</li><li>Run Java quickstart (wordcount) and mobile game examples with the staged artifacts. The easiest way to do this is by running the tests on Jenkins.
Other manual validation will follow, but this will at least validate that the staged artifacts can be used.<ul><li>Log in to Jenkins.</li><li>Go to <a href=https://ci-beam.apache.org/job/beam_PostRelease_NightlySnapshot/>https://ci-beam.apache.org/job/beam_PostRelease_NightlySnapshot/</a>.</li><li>Click &ldquo;Build with Parameters&rdquo;.</li><li>Set <code>snapshot_version</code> to <code>2.xx.0</code>, and set <code>snapshot_url</code> to point to the staged artifacts in Maven central (<a href=https://repository.apache.org/content/repositories/orgapachebeam-NNNN/)>https://repository.apache.org/content/repositories/orgapachebeam-NNNN/)</a>.</li><li>Click &ldquo;Build&rdquo;.</li></ul></li><li>Sign up <a href=https://s.apache.org/beam-release-validation>spreadsheet</a>.</li><li>Vote in the release thread.</li></ol></li></ul><h4 id=run-validations-manually>Run validations manually</h4><p><em>Note</em>: -Prepourl and -Pver can be found in the RC vote email sent by Release Manager.</p><ul><li><p><strong>Java Quickstart Validation</strong></p><p><strong>Direct Runner</strong></p><pre tabindex=0><code>./gradlew :runners:direct-java:runQuickstartJavaDirect \
-Prepourl=https://repository.apache.org/content/repositories/orgapachebeam-${KEY} \
-Pver=${RELEASE_VERSION}
</code></pre><p><strong>Flink Local Runner</strong></p><pre tabindex=0><code>./gradlew :runners:flink:1.13:runQuickstartJavaFlinkLocal \
-Prepourl=https://repository.apache.org/content/repositories/orgapachebeam-${KEY} \
-Pver=${RELEASE_VERSION}
</code></pre><p><strong>Spark Local Runner</strong></p><pre tabindex=0><code>./gradlew :runners:spark:3:runQuickstartJavaSpark \
-Prepourl=https://repository.apache.org/content/repositories/orgapachebeam-${KEY} \
-Pver=${RELEASE_VERSION}
</code></pre><p><strong>Dataflow Runner</strong></p><pre tabindex=0><code>./gradlew :runners:google-cloud-dataflow-java:runQuickstartJavaDataflow \
-Prepourl=https://repository.apache.org/content/repositories/orgapachebeam-${KEY} \
-Pver=${RELEASE_VERSION} \
-PgcpProject=${YOUR_GCP_PROJECT} \
-PgcsBucket=${YOUR_GCP_BUCKET}
</code></pre></li><li><p><strong>Java Mobile Game(UserScore, HourlyTeamScore, Leaderboard)</strong></p><p><strong>Prerequisites</strong></p><ul><li><p><strong>Create your own BigQuery dataset</strong></p><pre tabindex=0><code>bq mk --project_id=${YOUR_GCP_PROJECT} ${YOUR_DATASET}
</code></pre></li><li><p><strong>Create your PubSub topic</strong></p><pre tabindex=0><code>gcloud alpha pubsub topics create --project=${YOUR_GCP_PROJECT} ${YOUR_PROJECT_PUBSUB_TOPIC}
</code></pre></li><li><p><strong>Setup your service account</strong></p><p>Goto IAM console in your project to create a service account as <code>project owner</code>, then run</p><pre tabindex=0><code>gcloud iam service-accounts keys create ${YOUR_KEY_JSON} --iam-account ${YOUR_SERVICE_ACCOUNT_NAME}@${YOUR_PROJECT_NAME}
export GOOGLE_APPLICATION_CREDENTIALS=${PATH_TO_YOUR_KEY_JSON}
</code></pre></li></ul><p><strong>Run</strong></p><pre tabindex=0><code>./gradlew :runners:google-cloud-dataflow-java:runMobileGamingJavaDataflow \
 -Prepourl=https://repository.apache.org/content/repositories/orgapachebeam-${KEY} \
 -Pver=${RELEASE_VERSION} \
 -PgcpProject=${YOUR_GCP_PROJECT} \
 -PgcsBucket=${YOUR_GCP_BUCKET} \
 -PbqDataset=${YOUR_DATASET} -PpubsubTopic=${YOUR_PROJECT_PUBSUB_TOPIC}
</code></pre></li><li><p><strong>Python Quickstart(batch & streaming), MobileGame(UserScore, HourlyTeamScore)</strong></p><p>Create a new PR in apache/beam.</p><p>In comment area, type in <code>Run Python ReleaseCandidate</code> to trigger validation.</p></li><li><p><strong>Python Leaderboard & GameStats</strong></p><ul><li><p><strong>Get staging RC</strong> <code>wget https://dist.apache.org/repos/dist/dev/beam/2.5.0/*</code></p></li><li><p><strong>Verify the hashes</strong></p><pre tabindex=0><code>sha512sum -c apache-beam-2.5.0-python.zip.sha512
sha512sum -c apache-beam-2.5.0-source-release.zip.sha512
</code></pre></li><li><p><strong>Build SDK</strong></p><pre tabindex=0><code>sudo apt-get install unzip
unzip apache-beam-2.5.0-source-release.zip
python setup.py sdist
</code></pre></li><li><p><strong>Setup virtual environment</strong></p><pre tabindex=0><code>python3 -m venv beam_env
. ./beam_env/bin/activate
pip install --upgrade pip setuptools wheel
</code></pre></li><li><p><strong>Install SDK</strong></p><pre tabindex=0><code>pip install dist/apache-beam-2.5.0.tar.gz
pip install dist/apache-beam-2.5.0.tar.gz[gcp]
</code></pre></li><li><p><strong>Setup GCP</strong></p><p>Please repeat following steps for every following test.</p><pre tabindex=0><code>bq rm -rf --project=${YOUR_PROJECT} ${USER}_test
bq mk --project_id=${YOUR_PROJECT} ${USER}_test
gsutil rm -rf ${YOUR_GS_STORAGE]
gsutil mb -p ${YOUR_PROJECT} ${YOUR_GS_STORAGE}
gcloud alpha pubsub topics create --project=${YOUR_PROJECT} ${YOUR_PUBSUB_TOPIC}
</code></pre><p>Setup your service account as described in <code>Java Mobile Game</code> section above.</p></li><li><p><strong>Produce data by using java injector:</strong></p><p>Configure your ~/.m2/settings.xml as following:</p><pre tabindex=0><code>&lt;settings&gt;
  &lt;profiles&gt;
    &lt;profile&gt;
      &lt;id&gt;release-repo&lt;/id&gt;
      &lt;activation&gt;
        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;
      &lt;/activation&gt;
      &lt;repositories&gt;
        &lt;repository&gt;
          &lt;id&gt;Release 2.4.0 RC3&lt;/id&gt;
          &lt;name&gt;Release 2.4.0 RC3&lt;/name&gt;
          &lt;url&gt;https://repository.apache.org/content/repositories/orgapachebeam-1031/&lt;/url&gt;
        &lt;/repository&gt;
      &lt;/repositories&gt;
    &lt;/profile&gt;
  &lt;/profiles&gt;
&lt;/settings&gt;
</code></pre><p><strong>Note</strong>: You can found the latest <code>id</code>, <code>name</code> and <code>url</code> for one RC in the vote email thread sent out by Release Manager.</p><p>Run</p><pre tabindex=0><code>mvn archetype:generate \
      -DarchetypeGroupId=org.apache.beam \
      -DarchetypeArtifactId=beam-sdks-java-maven-archetypes-examples \
      -DarchetypeVersion=${RELEASE_VERSION} \
      -DgroupId=org.example \
      -DartifactId=word-count-beam \
      -Dversion=&#34;0.1&#34; \
      -Dpackage=org.apache.beam.examples \
      -DinteractiveMode=false
      -DarchetypeCatalog=internal

mvn compile exec:java -Dexec.mainClass=org.apache.beam.examples.complete.game.injector.Injector \
  -Dexec.args=&#34;${YOUR_PROJECT} ${YOUR_PUBSUB_TOPIC} none&#34;
</code></pre></li><li><p><strong>Run Leaderboard with Direct Runner</strong></p><pre tabindex=0><code>python -m apache_beam.examples.complete.game.leader_board \
--project=${YOUR_PROJECT} \
--topic projects/${YOUR_PROJECT}/topics/${YOUR_PUBSUB_TOPIC} \
--dataset ${USER}_test
</code></pre><p>Inspect results:</p><ul><li>Check whether there is any error messages in console.</li><li>Goto your BigQuery console and check whether your ${USER}_test has leader_board_users and leader_board_teams table.</li><li>bq head -n 10 ${USER}_test.leader_board_users</li><li>bq head -n 10 ${USER}_test.leader_board_teams</li></ul></li><li><p><strong>Run Leaderboard with Dataflow Runner</strong></p><pre tabindex=0><code>python -m apache_beam.examples.complete.game.leader_board \
--project=${YOUR_PROJECT} \
--region=${GCE_REGION} \
--topic projects/${YOUR_PROJECT}/topics/${YOUR_PUBSUB_TOPIC} \
--dataset ${USER}_test \
--runner DataflowRunner \
--temp_location=${YOUR_GS_BUCKET}/temp/ \
--sdk_location dist/*
</code></pre><p>Inspect results:</p><ul><li>Goto your Dataflow job console and check whether there is any error.</li><li>Goto your BigQuery console and check whether your ${USER}_test has leader_board_users and leader_board_teams table.</li><li>bq head -n 10 ${USER}_test.leader_board_users</li><li>bq head -n 10 ${USER}_test.leader_board_teams</li></ul></li><li><p><strong>Run GameStats with Direct Runner</strong></p><pre tabindex=0><code>python -m apache_beam.examples.complete.game.game_stats \
--project=${YOUR_PROJECT} \
--topic projects/${YOUR_PROJECT}/topics/${YOUR_PUBSUB_TOPIC} \
--dataset ${USER}_test \
--fixed_window_duration ${SOME_SMALL_DURATION}
</code></pre><p>Inspect results:</p><ul><li>Check whether there is any error messages in console.</li><li>Goto your BigQuery console and check whether your ${USER}_test has game_stats_teams and game_stats_sessions table.</li><li>bq head -n 10 ${USER}_test.game_stats_teams</li><li>bq head -n 10 ${USER}_test.game_stats_sessions</li></ul></li><li><p><strong>Run GameStats with Dataflow Runner</strong></p><pre tabindex=0><code>python -m apache_beam.examples.complete.game.game_stats \
--project=${YOUR_PROJECT} \
--region=${GCE_REGION} \
--topic projects/${YOUR_PROJECT}/topics/${YOUR_PUBSUB_TOPIC} \
--dataset ${USER}_test \
--runner DataflowRunner \
--temp_location=${YOUR_GS_BUCKET}/temp/ \
--sdk_location dist/* \
--fixed_window_duration ${SOME_SMALL_DURATION}
</code></pre><p>Inspect results:</p><ul><li>Goto your Dataflow job console and check whether there is any error.</li><li>Goto your BigQuery console and check whether your ${USER}_test has game_stats_teams and game_stats_sessions table.</li><li>bq head -n 10 ${USER}_test.game_stats_teams</li><li>bq head -n 10 ${USER}_test.game_stats_sessions</li></ul></li></ul></li></ul><h3 id=fix-any-issues>Fix any issues</h3><p>Any issues identified during the community review and vote should be fixed in this step.
Additionally, any GitHub issues created from the initial branch verification should be fixed.</p><p>Code changes should be proposed as standard pull requests to the <code>master</code> branch and reviewed using the normal contributing process.
Then, relevant changes should be cherry-picked into the release branch proposed as pull requests against the release branch, again reviewed and merged using the normal contributing process.</p><p>Once all issues have been resolved, you should go back and build a new release candidate with these changes.</p><h3 id=finalize-the-vote>Finalize the vote</h3><p>Reply on the vote thread to close the voting once following conditions are met for the current release candidate.</p><ul><li>At least 72 hours has passed since the voting email.</li><li>No release blocking issues have been identified.</li><li>Voting thread has at least three approving PMC votes.</li></ul><p>Then, tally the votes in a separate email thread.
Here’s an email template; please adjust as you see fit.</p><pre><code>From: Release Manager
To: dev@beam.apache.org
Subject: [RESULT] [VOTE] Release 1.2.3, release candidate #3

I'm happy to announce that we have unanimously approved this release.

There are XXX approving votes, XXX of which are binding:
* approver 1
* approver 2
* approver 3
* approver 4

There are no disapproving votes.

Thanks everyone!
</code></pre><h3 id=checklist-to-proceed-to-the-next-step-2>Checklist to proceed to the next step</h3><ol><li>Issues identified during vote have been resolved, with fixes committed to the release branch.</li><li>All issues in the current release&rsquo;s milestone should be closed.</li><li>Community votes to release the proposed candidate, with at least three approving PMC votes.</li></ol><hr><h2 id=11-finalize-the-release>11. Finalize the release</h2><p>Once the release candidate has been reviewed and approved by the community, the release should be finalized.
This involves the final deployment of the release candidate to the release repositories, merging of the website changes, etc.</p><h3 id=deploy-artifacts-to-maven-central-repository>Deploy artifacts to Maven Central Repository</h3><p>Use the <a href=https://repository.apache.org/#stagingRepositories>Apache Nexus repository manager</a> to release the staged binary artifacts to the Maven Central repository.
In the <code>Staging Repositories</code> section, find the relevant release candidate <code>orgapachebeam-XXX</code> entry and click <code>Release</code>.
Drop all other release candidates that are not being released.</p><p><strong>NOTE</strong>: If you are using <a href=https://help.github.com/articles/securing-your-account-with-two-factor-authentication-2fa/>GitHub two-factor authentication</a> and haven&rsquo;t configure HTTPS access,
please follow <a href=https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/>the guide</a> to configure command line access.</p><h3 id=deploy-python-artifacts-to-pypi>Deploy Python artifacts to PyPI</h3><ul><li><strong>Script:</strong> <a href=https://github.com/apache/beam/blob/master/release/src/main/scripts/deploy_pypi.sh>deploy_pypi.sh</a></li><li><strong>Usage</strong></li></ul><pre tabindex=0><code>./beam/release/src/main/scripts/deploy_pypi.sh
</code></pre><ul><li>Verify that the files at <a href=https://pypi.org/project/apache-beam/#files>https://pypi.org/project/apache-beam/#files</a> are correct.
All wheels should be published, in addition to the zip of the release source.
(Signatures and hashes do <em>not</em> need to be uploaded.)</li></ul><h3 id=deploy-docker-images-to-dockerhub>Deploy docker images to DockerHub</h3><p>Note: if you are not a member of the <a href=https://hub.docker.com/orgs/apache/teams/beam>beam DockerHub team</a>,
you will need help with this step. Please email dev@ and ask a member of the beam DockerHub team for help.</p><ul><li><strong>Script:</strong> <a href=https://github.com/apache/beam/blob/master/release/src/main/scripts/publish_docker_images.sh>publish_docker_images.sh</a></li><li><strong>Usage</strong></li></ul><pre tabindex=0><code>./beam/release/src/main/scripts/publish_docker_images.sh
</code></pre><ul><li><strong>Verify that:</strong><ul><li>Images are published at <a href="https://hub.docker.com/search?q=apache%2Fbeam&amp;type=image">DockerHub</a> with tags {RELEASE_VERSION} and <em>latest</em>.</li><li>Images with <em>latest</em> tag are pointing to current release by confirming the digest of the image with <em>latest</em> tag is the same as the one with {RELEASE_VERSION} tag.</li></ul></li></ul><p>(Optional) Clean up any unneeded local images afterward to save disk space.</p><h3 id=merge-website-pull-requests>Merge Website pull requests</h3><p>Merge all of the website pull requests</p><ul><li><a href=/get-started/downloads/>listing the release</a></li><li>publishing the <a href=https://beam.apache.org/releases/pydoc/>Python API reference manual</a> and the <a href=https://beam.apache.org/releases/javadoc/>Java API reference manual</a>, and</li><li>adding the release blog post.</li></ul><h3 id=git-tag>Git tag</h3><p>Create and push a new signed tag for the released version by copying the tag for the final release candidate, as follows:</p><pre tabindex=0><code># Optional: unlock the signing key by signing an arbitrary file.
gpg --output ~/doc.sig --sign ~/.bashrc

VERSION_TAG=&#34;v${RELEASE_VERSION}&#34;
RC_TAG=&#34;${VERSION_TAG}-RC${RC_NUM}&#34;

# Ensure local tags are in sync. If there&#39;s a mismatch, it will tell you.
git fetch --all --tags

# If the tag exists, a commit number is produced, otherwise there&#39;s an error.
git rev-list $RC_TAG -n 1

# Tag for Go SDK
git tag -s &#34;sdks/$VERSION_TAG&#34; &#34;$RC_TAG&#34;
git push https://github.com/apache/beam &#34;sdks/$VERSION_TAG&#34;

# Tag for repo root.
git tag -s &#34;$VERSION_TAG&#34; &#34;$RC_TAG&#34;
git push https://github.com/apache/beam &#34;$VERSION_TAG&#34;
</code></pre><p>After pushing the tag, the tag should be visible on Github&rsquo;s <a href=https://github.com/apache/beam/tags>Tags</a> page.</p><h3 id=publish-release-to-github>Publish release to Github</h3><p>Once the tag is uploaded, publish the release notes to Github. From the <a href=https://github.com/apache/beam/releases>Beam release page on Github</a> select
&ldquo;Draft a new release.&rdquo; Title the release &ldquo;Beam ${RELEASE_VERSION} release&rdquo; and set the release at the version tag created above. Use the content of the
release blog post as the body of the release notes, set this version as the latest release, and publish it.</p><p>The release notes should now be visible on Github&rsquo;s <a href=https://github.com/apache/beam/releases>Releases</a> page.</p><h3 id=mark-the-version-as-released-in-github>Mark the version as released in GitHub</h3><p>In GitHub, in the <a href=https://github.com/apache/beam/milestones>milestone page</a>, click close on the current release.</p><h3 id=pmc-only-finalization>PMC-Only Finalization</h3><p>There are a few release finalization tasks that only PMC members have permissions to do.
Ping <a href=mailto:dev@beam.apache.org>dev@</a> for assistance if you need it.</p><h4 id=deploy-source-release-to-distapacheorg>Deploy source release to dist.apache.org</h4><p>Copy the source release from the <code>dev</code> repository to the <code>release</code> repository at <code>dist.apache.org</code> using Subversion.</p><p>Make sure the last release&rsquo;s artifacts have been copied from <code>dist.apache.org</code> to <code>archive.apache.org</code>.
This should happen automatically: <a href=https://lists.apache.org/thread.html/39c26c57c5125a7ca06c3c9315b4917b86cd0e4567b7174f4bc4d63b%40%3Cdev.beam.apache.org%3E>dev@ thread</a> with context.</p><h4 id=recordkeeping-with-asf>Recordkeeping with ASF</h4><p>Use <a href=https://reporter.apache.org/addrelease.html?beam>reporter.apache.org</a> to seed the information about the release into future project reports.</p><h3 id=checklist-to-proceed-to-the-next-step-3>Checklist to proceed to the next step</h3><ul><li>Maven artifacts released and indexed in the <a href=https://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.apache.beam%22>Maven Central Repository</a></li><li>Source distribution available in the release repository of <a href=https://dist.apache.org/repos/dist/release/beam/>dist.apache.org</a></li><li>Source distribution removed from the dev repository of <a href=https://dist.apache.org/repos/dist/dev/beam/>dist.apache.org</a></li><li>Website pull request to <a href=/get-started/downloads/>list the release</a> and publish the <a href=https://beam.apache.org/releases/javadoc/>API reference manual</a> merged.</li><li>The release is tagged on Github&rsquo;s <a href=https://github.com/apache/beam/tags>Tags</a> page.</li><li>The release notes are published on Github&rsquo;s <a href=https://github.com/apache/beam/releases>Releases</a> page.</li><li>Release version finalized in GitHub.</li><li>Release version is listed at reporter.apache.org</li></ul><hr><h2 id=12-promote-the-release>12. Promote the release</h2><p>Once the release has been finalized, the last step of the process is to promote the release within the project and beyond.</p><h3 id=apache-mailing-lists>Apache mailing lists</h3><p>Announce on the dev@ mailing list that the release has been finished.</p><p>Announce on the release on the user@ mailing list, listing major improvements and contributions.</p><p>Announce the release on the <a href=mailto:announce@apache.org>announce@apache.org</a> mailing list.
<strong>NOTE</strong>: This can only be done from <code>@apache.org</code> email address. This email has to be in plain text (no HTML tags).</p><h3 id=social-media>Social media</h3><p>Tweet, post on Facebook, LinkedIn, and other platforms.
Ask other contributors to do the same.</p><p>Also, update <a href=https://en.wikipedia.org/wiki/Apache_Beam>the Wikipedia article on Apache Beam</a>.</p><h3 id=checklist-to-declare-the-process-completed>Checklist to declare the process completed</h3><ol><li>Release announced on the user@ mailing list.</li><li>Blog post published, if applicable.</li><li>Release recorded in reporter.apache.org.</li><li>Release announced on social media.</li><li>Completion declared on the dev@ mailing list.</li><li>Update Wikipedia Apache Beam article.</li></ol><hr><h2 id=13-update-beam-playground>13. Update Beam Playground</h2><p>After new Beam Release is published, Beam Playgorund can be updated following the steps below:</p><ol><li>Open the <a href="https://console.cloud.google.com/cloud-build/triggers?project=apache-beam-testing">Cloud Build triggers in apache-beam-testing</a> GCP project.</li><li>Find the trigger &ldquo;Deploy-Update-Playground-environment-stg&rdquo;:<ol><li>Click on the trigger name to open its settings</li><li>Change the value for _SDK_TAG variable (Advanced -> Substitution Variables) to the actual version of Beam SDK (e.g. 2.47.0)</li><li>Click the Save button. The settings window should close without any errors</li><li>Click the RUN button next to the trigger name</li><li>Set the value for the _CONTAINER_TAG variable in format DD-MM-vXX (DD - day, MM - month, XX - version, e.g., 20-12-v01)</li><li>Click the Run Trigger button</li><li>Open the <a href="https://console.cloud.google.com/cloud-build/builds?project=apache-beam-testing">Trigger History</a> and wait for the job completion. Ensure that the job completed successfully (Status field shows a green tick)</li></ol></li><li>Find the trigger &ldquo;Playground-CD-stable-manual-stg&rdquo;:<ol><li>Click the RUN button next to the trigger name</li><li>Click the Run Trigger button (with default varaible vaues)</li><li>Open the <a href="https://console.cloud.google.com/cloud-build/builds?project=apache-beam-testing">Trigger History</a> and wait for the job completion. Ensure that the job completed successfully (Status field shows a green tick)</li><li>Click the RUN button next to the trigger name</li><li>Change values for the variables:<ul><li>_ORIGIN = PG_BEAMDOC</li><li>_SUBDIRS = ./learning/beamdoc</li></ul></li><li>Click the Run Trigger button</li><li>Open the <a href="https://console.cloud.google.com/cloud-build/builds?project=apache-beam-testing">Trigger History</a> and wait for the job completion. Ensure that the job completed successfully (Status field shows a green tick)</li></ol></li><li>Test updated <a href=https://play-dev.beam.apache.org/>staging Playground</a> in a browser<ol><li>Open the menu (represented by &lsquo;&mldr;&rsquo; in the right top corner) and click on Versions. Validate that commit is the same for all listed containers, and the hash belongs to a <a href=https://github.com/apache/beam/commits/master>recent master branch commit</a></li><li>For each of the supported SDKs (Java, Python, Go, SCIO):<ul><li>Switch to the SDK</li><li>Make any changes to the loaded default example</li><li>Click the Run button</li><li>Wait for successful completion</li><li>Click &ldquo;Share My Code&rdquo; to ensure that the link is generated</li></ul></li></ol></li><li>Repeat the same steps for &ldquo;Deploy-Update-Playground-environment-prod&rdquo; trigger as for &ldquo;Deploy-Update-Playground-environment-stg&rdquo; trigger</li><li>Repeat the same steps for &ldquo;Playground-CD-stable-manual-prod&rdquo; trigger as for &ldquo;Playground-CD-stable-manual-stg&rdquo; trigger</li><li>Test updated <a href=https://play.beam.apache.org/>prod Playground</a> in a browser. The process is similar to the staging environment.</li><li>Find the trigger &ldquo;Playground-CI-stable&rdquo;<ol><li>Click on the trigger name to open its settings</li><li>Set the value for the _BEAM_VERSION variable (Advanced -> Substitution Variables) to the actual version of Beam SDK (e.g., 2.47.0)</li><li>Click the Save button. Click the Save button. The settings window should close without any errors</li></ol></li></ol><h2 id=improve-the-process>Improve the process</h2><p>It is important that we improve the release processes over time.
Once you’ve finished the release, please take a step back and look what areas of this process and be improved. Perhaps some part of the process can be simplified.
Perhaps parts of this guide can be clarified.</p><p>If we have specific ideas, please start a discussion on the dev@ mailing list and/or propose a pull request to update this guide.
Thanks!</p><div class=feedback><p class=update>Last updated on 2023/09/15</p><h3>Have you found everything you were looking for?</h3><p class=description>Was it all useful and clear? Is there anything that you would like to change? Let us know!</p><button class=load-button><a href="https://docs.google.com/forms/d/e/1FAIpQLSfID7abne3GE6k6RdJIyZhPz2Gef7UkpggUEhTIDjjplHuxSA/viewform?usp=header_link" target=_blank>SEND FEEDBACK</a></button></div></div></div><footer class=footer><div class=footer__contained><div class=footer__cols><div class="footer__cols__col footer__cols__col__logos"><div class=footer__cols__col__logo><img src=/images/beam_logo_circle.svg class=footer__logo alt="Beam logo"></div><div class=footer__cols__col__logo><img src=/images/apache_logo_circle.svg class=footer__logo alt="Apache logo"></div></div><div class=footer-wrapper><div class=wrapper-grid><div class=footer__cols__col><div class=footer__cols__col__title>Start</div><div class=footer__cols__col__link><a href=/get-started/beam-overview/>Overview</a></div><div class=footer__cols__col__link><a href=/get-started/quickstart-java/>Quickstart (Java)</a></div><div class=footer__cols__col__link><a href=/get-started/quickstart-py/>Quickstart (Python)</a></div><div class=footer__cols__col__link><a href=/get-started/quickstart-go/>Quickstart (Go)</a></div><div class=footer__cols__col__link><a href=/get-started/downloads/>Downloads</a></div></div><div class=footer__cols__col><div class=footer__cols__col__title>Docs</div><div class=footer__cols__col__link><a href=/documentation/programming-guide/>Concepts</a></div><div class=footer__cols__col__link><a href=/documentation/pipelines/design-your-pipeline/>Pipelines</a></div><div class=footer__cols__col__link><a href=/documentation/runners/capability-matrix/>Runners</a></div></div><div class=footer__cols__col><div class=footer__cols__col__title>Community</div><div class=footer__cols__col__link><a href=/contribute/>Contribute</a></div><div class=footer__cols__col__link><a href=https://projects.apache.org/committee.html?beam target=_blank>Team<img src=/images/external-link-icon.png width=14 height=14 alt="External link."></a></div><div class=footer__cols__col__link><a href=/community/presentation-materials/>Media</a></div><div class=footer__cols__col__link><a href=/community/in-person/>Events/Meetups</a></div><div class=footer__cols__col__link><a href=/community/contact-us/>Contact Us</a></div></div><div class=footer__cols__col><div class=footer__cols__col__title>Resources</div><div class=footer__cols__col__link><a href=/blog/>Blog</a></div><div class=footer__cols__col__link><a href=https://github.com/apache/beam>GitHub</a></div></div></div><div class=footer__bottom>&copy;
<a href=https://www.apache.org>The Apache Software Foundation</a>
| <a href=/privacy_policy>Privacy Policy</a>
| <a href=/feed.xml>RSS Feed</a><br><br>Apache Beam, Apache, Beam, the Beam logo, and the Apache feather logo are either registered trademarks or trademarks of The Apache Software Foundation. All other products or name brands are trademarks of their respective holders, including The Apache Software Foundation.</div></div><div class="footer__cols__col footer__cols__col__logos"><div class=footer__cols__col--group><div class=footer__cols__col__logo><a href=https://github.com/apache/beam><img src=/images/logos/social-icons/github-logo-150.png class=footer__logo alt="Github logo"></a></div><div class=footer__cols__col__logo><a href=https://www.linkedin.com/company/apache-beam/><img src=/images/logos/social-icons/linkedin-logo-150.png class=footer__logo alt="Linkedin logo"></a></div></div><div class=footer__cols__col--group><div class=footer__cols__col__logo><a href=https://twitter.com/apachebeam><img src=/images/logos/social-icons/twitter-logo-150.png class=footer__logo alt="Twitter logo"></a></div><div class=footer__cols__col__logo><a href=https://www.youtube.com/channel/UChNnb_YO_7B0HlW6FhAXZZQ><img src=/images/logos/social-icons/youtube-logo-150.png class=footer__logo alt="Youtube logo"></a></div></div></div></div></div></footer></body></html>